# LURE AD CENTER — 廣告帳號數據管理系統

> 部署網址：[ads.lure.com.tw](https://ads.lure.com.tw)

---

## 📋 專案簡介

**LURE AD CENTER** 是一套以純前端技術（單一 `index.html`）打造的廣告帳號數據看板，專用於即時彙整多個 Facebook 廣告帳號的投放成效資料。

資料來源為 **Google Sheets（公開 CSV 格式）**，系統啟動時自動並行拉取所有已設定工作表的資料，以進度條彈窗呈現載入進度，完成後即可進入數據看板。

---

## 🗂 儲存庫結構

```
ads/
├── index.html          # 應用程式主體（含 HTML 結構、CSS 樣式、JavaScript 邏輯）
├── images/
│   └── favicon.jpg     # 網站圖示
├── CNAME               # GitHub Pages 自訂網域設定（ads.lure.com.tw）
└── README.md           # 本說明文件
```

---

## ✨ 核心功能

### 1. 多工作表資料載入
- 對應 15 個廣告帳號工作表（吸引力、寰宇、藍蒂蔻、新技、總部、新城區、第一～第四事業部、其他區部、顏區、大里區、逢甲區、基隆區）
- 每個工作表對應 Google Sheets 中特定的 `gid`（Sheet ID）
- 啟動時並行載入全部工作表，並以進度條即時顯示進度（0%–100%）

### 3. 數據看板（Dashboard）
頁面頂部顯示當前工作表的即時統計數字：

| 指標 | 說明 |
|------|------|
| 總花費 | 所有有效活動的花費金額加總 |
| 總花費+% | 加計服務費後的總金額 |
| 平均點擊次數 | 各活動點擊次數的平均值 |
| 平均點擊成本 (CPC) | 各活動 CPC 的平均值 |
| 平均私訊數 | 各活動私訊數的平均值 |
| 平均私訊成本 | 各活動私訊成本的平均值 |

左側側欄另有**總計卡片**，彙整所有工作表（跨帳號）的：
- 帳號數量、總花費、差距(%)、總花費+%

### 4. 廣告資料表格
欄位順序：`No. ／ 活動名稱 ／ 報告起始 ／ 報告結束 ／ 花費金額 ／ % ／ 金額+% ／ 連結點擊次數 ／ 點擊成本 ／ 私訊數 ／ 私訊成本`

- **`%` 欄位**：可手動輸入服務費百分比（預設 5%），即時計算「金額+%」
- **`金額+%` 欄位**：以無條件進位方式呈現含服務費的最終金額，藍底突出標示
- **活動名稱暱稱**：滑鼠懸停可編輯顯示用暱稱，不影響原始識別資料
- **欄位排序**：點擊任意欄位表頭可切換升／降序排列
- **關鍵字搜尋**：依活動名稱即時過濾資料行

### 5. 顏色閾值標示
可針對 **私訊成本** 與 **點擊成本** 設定顏色警示：

| 顏色 | 意義 |
|------|------|
| 🟢 綠色 | 數值小於設定的「綠色閾值」（績效良好） |
| 🟠 橘色 | 數值介於兩閾值之間（需關注） |
| 🔴 紅色 | 數值大於設定的「紅色閾值」（績效警示） |

支援**全域設定**（套用至所有列）或**個別列設定**（覆蓋全域值）。

### 6. 下載資料
點擊「下載」按鈕可將當前工作表資料（含暱稱、% 與金額+%）匯出為 **UTF-8 BOM CSV** 檔案，檔名格式：`廣告資料_[工作表名稱]_[日期].csv`

### 7. 工作表管理設定
透過右上角齒輪圖示進入設定彈窗，可：
- 新增、刪除或修改工作表名稱與 `gid`
- 設定全域顏色閾值
- 設定儲存後詢問是否重新載入資料

---

## 🔧 技術架構

| 項目 | 說明 |
|------|------|
| **前端框架** | 無框架，純原生 HTML + JavaScript |
| **CSS** | [Tailwind CSS](https://tailwindcss.com/)（CDN 版） |
| **字型** | Google Fonts — Inter、Noto Sans |
| **圖示** | Google Material Symbols Outlined |
| **資料來源** | Google Sheets 公開 CSV（`/pub?output=csv&gid=...`） |
| **資料持久化** | `localStorage`（百分比、暱稱、顏色閾值、密碼、工作表配置） |
| **部署方式** | GitHub Pages + 自訂網域（CNAME） |

---

## 📊 Google Sheets 資料格式

系統預期每個工作表的 CSV 資料包含以下欄位（支援中英文表頭）：

| 中文表頭 | 英文表頭 |
|----------|----------|
| 活動名稱 | Campaign name |
| 報告起始 | Reporting starts |
| 報告結束 | Reporting ends |
| 花費金額 | Amount spent |
| 連結點擊次數 | Link clicks |
| 點擊成本 | CPC (cost per link click) |
| 私訊數 | Messaging conversations started |
| 私訊成本 | Cost per messaging conversations started |

> 系統會自動跳過 `Facebook Ads Import`、`Last updated` 等資訊行，以及完全空白的行。

---

## ⚙️ 系統設定說明

### 新增工作表
1. 點擊右上角 ⚙️ 設定圖示
2. 切換至「工作表配置」標籤
3. 點擊「新增」，填入工作表名稱與對應的 Google Sheets `gid`
4. 點擊「儲存設定」

> 💡 **Tip:** 工作表可透過拖曳左側的 ☰ 圖示，自由變更其在系統中顯示的排序。

### 修改顏色閾值
1. 進入設定 → 切換至「顏色標示」標籤
2. 啟用「私訊成本標示」或「點擊成本標示」
3. 設定綠色（良好）與紅色（警示）的數值邊界

### 修改個別活動的顏色閾值
在資料表格中，滑鼠懸停於「私訊成本」或「點擊成本」欄位，點擊調色盤圖示即可為該活動設定專屬閾值（優先於全域設定）。

---

## 🚀 部署說明

本專案透過 **GitHub Pages** 靜態部署，自訂網域設定於 `CNAME` 檔案：

```
ads.lure.com.tw
```

每次推送至 `main` 分支後，GitHub Pages 會自動更新。

### 本地預覽
直接用瀏覽器開啟 `index.html` 即可（需有網路連線以存取 Google Sheets）。

---

## 📝 版本記錄

| 版本 | 說明 |
|------|------|
| `v2026.0221` | 當前版本 — 移除密碼系統、移除版本號改為上次更新時間顯示、名稱欄位加寬（最少 5 字元）、即時載入進度條、Sticky Sidebar、新增 No. 序號欄位、過濾 0 花費帳號、顏色閾值標示、暱稱編輯、CSV 下載 |
| `v20250923.02` | 新增顏色閾值、個別列設定、暱稱編輯、CSV 下載 |
| `v20250915170325` | 初始穩定版本 |
